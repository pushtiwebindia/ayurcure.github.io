(function(b){var a=function(){var c=this;this._init=function(e,d){this.options=b.extend({},this._settings,d);this.domObj=b(e);this.panels=b("."+this.options.cssprefix+"-panel",this.domObj);this.nav=b("."+this.options.cssprefix+"-nav",this.domObj);this.navClip=b("."+this.options.cssprefix+"-nav-clip",this.nav);this.allItems=this.panels.size();this.arePanels=this.allItems>0?1:0;this.isNavClip=this.navClip.size()>0?1:0;if(!this.arePanels&&!this.isNavClip){this._errorReport("01",this.options.debug,1)}else{if(this.domObj.css("height")=="auto"&&!this.options.freeheight){this._errorReport("02",this.options.debug,1)}}this.domObj.css("display","block");this.currId=0;this.prevId=0;this.newId=0;this.currPanel=null;this.prevPanel=0;this.firstTime=1;this.scrollit=0;this.isPlaying=null;this.changeOngoing=false;this.cssClassNames={cssSelected:this.options.cssprefix+"-selected",cssActive:this.options.cssprefix+"-panel-active",cssOld:this.options.cssprefix+"-panel-old",cssBtnDisable:this.options.cssprefix+"-btn-disable",cssPanelsWrapper:this.options.cssprefix+"-panels-wrapper",cssBtnPause:this.options.cssprefix+"-pause-btn",cssPosValue:"+"};if(this.isNavClip){this._buildNav()}this._buildControls();if(this.arePanels){this.panelsBag=b("."+this.options.cssprefix+"-panels",this.domObj);if(this.options.panelfx=="sliding"){this._wrapPanels()}}this.lineScrollDo=!this.arePanels?1:0;if(this.options.mousewheel){this.domObj.mousewheel(function(f,g){g>0?c.stepBackward():c.stepForward();return false})}if(this.options.keyboard){this.domObj.keyup(function(f){if(f.keyCode==37){c.stepBackward()}else{if(f.keyCode==39){c.stepForward()}}})}if(this.options.panelclick&&this.arePanels){this.panelsBag.click(function(){c.stepForward();return false})}this.changeWithId(this.options.start>=this.allItems?this.allItems-1:this.options.start,null);if(this.options.auto){this.autoScrollStart();if(!this.isPlayBtn){this.domObj.hover(function(){if(c.isPlaying!=null){c.autoScrollStop()}},function(){c.autoScrollStart()})}}return this};this._settings={cssprefix:"sliderkit",start:0,auto:true,autospeed:4000,mousewheel:false,keyboard:false,panelclick:false,circular:false,shownavitems:5,navitemshover:false,navclipcenter:false,navcontinuous:false,navscrollatend:false,navfx:"sliding",scroll:null,scrollspeed:600,scrolleasing:null,panelfx:"fading",panelfxspeed:700,panelfxeasing:null,panelfxfirst:"none",panelfxbefore:function(){},panelfxafter:function(){},panelbtnshover:false,verticalnav:false,verticalslide:false,tabs:false,freeheight:false,fastchange:true,debug:false};this._errorReport=function(f,d,e){if(d){alert("Slider Kit error! Code #"+f+" (see doc)")}if(e){return false}};this._buildNav=function(){this.navUL=b("ul",this.navClip);var g=b("li",this.navUL);var n=g.size();if(this.arePanels&&(n!=this.allItems)&&this.nav.size()==1){this._errorReport("03",this.options.debug,1)}if(this.options.tabs){this.options.shownavitems=this.allItems}else{function d(o){attrVal=g.css(o);if(attrVal!="auto"&&o!=""&&o!="0px"){return parseInt(attrVal)}else{return 0}}var i=this.options.verticalnav?this.nav.height():this.nav.width();var j=g.outerWidth(true);var e=g.outerHeight(true);var k=d("margin-left")+d("margin-right");var h=d("margin-top")+d("margin-bottom");this.navLIsize=this.options.verticalnav?e:j;this.navULSize=this.navLIsize*n;this.navClipSize=(this.options.shownavitems*this.navLIsize)-(this.options.verticalnav?h:k);this.cssPosAttr=this.options.verticalnav?"top":"left";var m=this.options.verticalnav?"height":"width";var l=this.options.verticalnav?"width":"height";g.css({width:g.width(),height:g.height()});this.navUL.css(m,this.navULSize+"px");this.navClip.css({width:this.options.verticalnav?j:this.navClipSize,height:this.options.verticalnav?this.navClipSize:e});if(this.options.navclipcenter){this.navClip.css(this.cssPosAttr,(i-this.navClipSize)/2).css("margin","0")}this.allItems=n;if(this.allItems>this.options.shownavitems){this.scrollit=true;if(this.options.scroll==null||this.options.scroll<0||this.options.scroll>this.allItems){this.options.scroll=this.options.shownavitems}this.navBtns=b("."+this.options.cssprefix+"-nav-btn",this.nav);if(this.navBtns.size()>0){this._buildNavButtons()}}}if(this.options.navitemshover&&this.arePanels){g.mouseover(function(){c.changeWithId(f(this,"li"),b(this))})}else{if(this.arePanels||this.options.navscrollatend){g.click(function(){c.changeWithId(f(this,"li"),b(this));return false})}}function f(p,o){return b(o,b(p).parent()).index(p)}};this._buildNavButtons=function(){this.scrollBtns=true;this.navBtnPrev=b("."+this.options.cssprefix+"-nav-prev",this.nav);this.navBtnNext=b("."+this.options.cssprefix+"-nav-next",this.nav);this.navBtnPrev.click(function(){c.navPrev();return false});this.navBtnNext.click(function(){c.navNext();return false});if(this.options.navcontinuous){this.navBtnPrev.mouseover(function(){c.navPrev(true)});this.navBtnNext.mouseover(function(){c.navNext(true)});this.navBtns.mouseout(function(){c.navStopContinuous()})}if(!this.options.circular){this.navBtnPrev.toggleClass(this.cssClassNames.cssBtnDisable)}};this._getNavPos=function(){this.navPos=this.options.verticalnav?this.navUL.position().top:this.navUL.position().left;this.LIbefore=Math.ceil(Math.abs(this.navPos)/this.navLIsize);this.LIafter=Math.floor((this.navULSize-Math.abs(this.navPos)-this.navClipSize)/this.navLIsize);if(this.LIafter<0){this.LIafter=0}};this._buildControls=function(){this.playBtn=b("."+this.options.cssprefix+"-play-btn",this.domObj);this.gBtns=b("."+this.options.cssprefix+"-go-btn",this.domObj);this.isPlayBtn=this.playBtn.size()>0?1:0;this.goBtns=this.gBtns.size()>0?1:0;if(this.isPlayBtn){if(this.options.auto){this.playBtn.addClass(this.cssClassNames.cssBtnPause)}this.playBtn.click(function(){if(c.playBtn.hasClass(c.cssClassNames.cssBtnPause)){c.playBtnPause()}else{c.playBtnStart()}return false})}if(this.goBtns){this.goBtnPrev=b("."+this.options.cssprefix+"-go-prev",this.domObj);this.goBtnNext=b("."+this.options.cssprefix+"-go-next",this.domObj);if(this.options.panelbtnshover){this.gBtns.hide();b("."+this.options.cssprefix+"-panels",this.domObj).hover(function(){c.gBtns.fadeIn()},function(){c.gBtns.fadeOut()})}this.goBtnPrev.click(function(){c.stepBackward(b(this));return false});this.goBtnNext.click(function(){c.stepForward(b(this));return false})}};this._wrapPanels=function(){this.panels.wrapAll('<div class="'+this.cssClassNames.cssPanelsWrapper+'"></div>');this.panelsWrapper=b("."+this.cssClassNames.cssPanelsWrapper,this.panelsBag);this.panelsWrapper.css({position:"relative"})};this._change=function(j,g,f,k,h){if(h&&this.isPlaying!=null&&this.isPlayBtn){this.playBtnPause()}if(j){if(j.hasClass(this.cssClassNames.cssBtnDisable)){return false}}var e=0;var d=b(":animated",this.options.fastchange?this.nav:this.domObj).size()>0?1:0;if(!d){this.prevId=this.currId;if(f==null&&!k){this.currId=g=="-="?this.currId+1:this.currId-1}else{if(f!=null){f=parseInt(f);this.currId=f<0?0:f>this.allItems-1?this.allItems-1:f;var i=j?j.parent().parent().hasClass(this.options.cssprefix+"-nav-clip")?false:true:true}}if(this.goBtns){this.gBtns.removeClass(this.cssClassNames.cssBtnDisable)}if(!this.options.circular){if(this.currId==-1){this.currId=0;e=1}if(this.currId==0&&this.goBtns){this.goBtnPrev.addClass(this.cssClassNames.cssBtnDisable)}if(this.currId==this.allItems){this.currId=this.allItems-1;e=1}if(this.currId==this.allItems-1){if(this.options.auto){this.autoScrollStop()}if(this.goBtns){this.goBtnNext.addClass(this.cssClassNames.cssBtnDisable)}}}else{if(!this.scrollit){if(this.currId==this.allItems){this.currId=0}if(this.currId==-1){this.currId=this.allItems-1}}}if(this.scrollit&&!e){this._setNavScroll(k,g,i)}if(this.isNavClip){this.selectThumbnail(this.currId)}if(this.arePanels){this._animPanel(this.currId,g)}if(this.firstTime){this.firstTime=0}}};this._setNavScroll=function(e,f,n){this._getNavPos();var j=0;if(!e){var o=Math.abs(this.currId+1-this.LIbefore);var l=this.options.shownavitems-o+1;var k=this.currId==0||this.currId==this.allItems-1?1:0;if((this.options.navscrollatend&&(l==1||o==1))&&!this.firstTime&&!k){j=this.options.scroll-1;e=1}if(l==0||o==0){e=1}if(n){var m=Math.abs(this.prevId-this.currId);if(m>0){j=m;e=1}}if(f==""){if(this.prevId==this.currId&&!k){f=this.scrollWay=="-="?"+=":"-="}else{f=this.prevId<this.currId?"-=":"+="}}this.scrollWay=f}if(e){var h=j>0?j:this.options.scroll;var i=f=="-="?this.LIafter:this.LIbefore;var g=i<h?i:h;var d=g*this.navLIsize;this.newId=f=="-="?this.LIbefore+g:this.LIbefore-g+this.options.shownavitems-1;if((f=="-="&&this.newId>this.currId)||(f=="+="&&this.newId<this.currId)){this.currId=this.newId}if(this.options.circular){if(this.LIbefore<=0&&f=="+="){f="-=";this.currId=this.allItems-1;d=(this.LIafter/this.options.scroll)*(this.navLIsize*this.options.scroll)}else{if(this.LIafter==0&&f=="-="){f="+=";this.currId=0;d=Math.abs(this.navPos)}}}this._animNav(f,d)}};this._animPanel=function(f,e){this.currPanel=this.panels.eq(f);if(!this.currPanel.hasClass(this.cssClassNames.cssActive)){if(this.firstTime){this.panelTransition=this.options.panelfxfirst;var g=1}else{var d=this.options.freeheight&&this.options.panelfx=="fading"?"tabsfading":"none";this.panelTransition=this.options.freeheight?d:this.options.panelfx}if(c.options.panelfxbefore){c.options.panelfxbefore()}this._panelTransitions[this.panelTransition](e,g)}};this._animNav=function(d,f){var e=function(){if(!c.options.circular&&c.scrollBtns){c.navBtns.removeClass(c.cssClassNames.cssBtnDisable);c._getNavPos();if(c.LIbefore<=0){c.navBtnPrev.addClass(c.cssClassNames.cssBtnDisable)}else{if(c.LIafter<=0){c.navBtnNext.addClass(c.cssClassNames.cssBtnDisable)}}}if(c.scrollcontinue){setTimeout(function(){c.scrollcontinue=="-="?c.navPrev():c.navNext()},0)}};this.navTransition=this.options.navfx;this._navTransitions[this.navTransition](d,f,e)};this._panelTransitions={none:function(d,e){c.panels.removeClass(c.cssClassNames.cssActive).hide();c.currPanel.addClass(c.cssClassNames.cssActive).show();if(c.options.panelfxafter){c.options.panelfxafter()}},sliding:function(g,i){if(g==""){g=c.prevPanel<c.currId?"-=":"+="}c.prevPanel=c.currId;var e=g=="-="?"+":"-";var d=c.options.verticalslide?"top":"left";var f=c.options.verticalnav?c.domObj.height():c.domObj.width();var h=d=="top"?{top:g+f}:{left:g+f};c.oldPanel=b("."+c.cssClassNames.cssOld,c.domObj);c.activePanel=b("."+c.cssClassNames.cssActive,c.domObj);c.panels.css(d,"0");c.oldPanel.removeClass(c.cssClassNames.cssOld).hide();c.activePanel.removeClass(c.cssClassNames.cssActive).addClass(c.cssClassNames.cssOld);c.currPanel.addClass(c.cssClassNames.cssActive).css(d,e+f+"px").show();c.panelsWrapper.stop(true,true).css(d,"0").animate(h,c.options.panelfxspeed,c.options.panelfxeasing,function(){if(c.options.panelfxafter){c.options.panelfxafter()}})},fading:function(d,e){if(e){c.panels.hide()}else{c.currPanel.css("display","none")}b("."+c.cssClassNames.cssOld,c.domObj).removeClass(c.cssClassNames.cssOld);b("."+c.cssClassNames.cssActive,c.domObj).stop(true,true).removeClass(c.cssClassNames.cssActive).addClass(c.cssClassNames.cssOld);c.currPanel.addClass(c.cssClassNames.cssActive).animate({opacity:"show"},c.options.panelfxspeed,c.options.panelfxeasing,function(){if(c.options.panelfxafter){c.options.panelfxafter()}})},tabsfading:function(d,e){c.panels.removeClass(c.cssClassNames.cssActive).hide();c.currPanel.fadeIn(c.options.panelfxspeed,function(){if(c.options.panelfxafter){c.options.panelfxafter()}})}};this._navTransitions={none:function(e,g,f){var d=e=="-="?c.navPos-g:c.navPos+g;c.navUL.css(c.cssPosAttr,d+"px");f()},sliding:function(d,f,e){c.navUL.animate(c.cssPosAttr=="left"?{left:d+f}:{top:d+f},c.options.scrollspeed,c.options.scrolleasing,function(){e()})}};this.playBtnPause=function(){this.playBtn.removeClass(this.cssClassNames.cssBtnPause);this.autoScrollStop()};this.playBtnStart=function(){this.playBtn.addClass(c.cssClassNames.cssBtnPause);this.autoScrollStart()};this.autoScrollStart=function(){var d=this;this.isPlaying=setInterval(function(){d._change(null,"-=",null,d.lineScrollDo,null)},d.options.autospeed)};this.autoScrollStop=function(){clearTimeout(this.isPlaying);this.isPlaying=null};this.changeWithId=function(e,d){this._change(d,"",e,0,1)};this.stepBackward=function(d){this._change(d,"+=",null,c.lineScrollDo,1)};this.stepForward=function(d){this._change(d,"-=",null,c.lineScrollDo,1)};this.navPrev=function(d){if(d){c.scrollcontinue="-="}this._change(this.navBtnPrev,"+=",null,1,1)};this.navNext=function(d){if(d){c.scrollcontinue="+="}this._change(this.navBtnNext,"-=",null,1,1)};this.navStopContinuous=function(){c.scrollcontinue=""};this.selectThumbnail=function(d){b("ul li."+this.cssClassNames.cssSelected,this.nav).removeClass(this.cssClassNames.cssSelected);b("ul li:eq("+d+")",this.nav).addClass(this.cssClassNames.cssSelected)};this.addTransition=function(d,e){_transitions[d]=e}};b.fn.sliderkit=function(c){if(this.length){return this.each(function(){var d=new a();d._init(this,c);b.data(this,"sliderkit",d)})}}})(jQuery);
